{% extends 'base.html' %}
{% load static %}

{% block title %}
    About Me - LifeCoach
{% endblock %}

{% block content %}
<div class="card page-card">
    <div class="card-body">
        <h1 class="page-title">About Me</h1>
        {% if coach %}
            <div class="text-center mb-4">
                {% if coach.avatar %}
                    <img src="{{ coach.avatar.url }}" alt="Profile picture" class="avatar mb-3">
                {% endif %}
                <h2>{{ coach.user.get_full_name|default:coach.user.username }}</h2>
                <span class="badge bg-success">Coach</span>
            </div>

            <div class="info-list text-center mb-4">
                <div><strong>Email:</strong> {{ coach.user.email }}</div>
                {% if coach.phone %}
                    <div><strong>Phone:</strong> {{ coach.phone }}</div>
                {% endif %}
                {% if coach.preferred_contact %}
                    <div><strong>Preferred Contact:</strong> {{ coach.get_preferred_contact_display }}</div>
                {% endif %}
                {% if coach.timezone %}
                    <div><strong>Timezone:</strong> {{ coach.timezone }}</div>
                {% endif %}
                {% if coach.city or coach.state or coach.street_address or coach.zip_code %}
                    <div><strong>Address:</strong>
                        {{ coach.street_address }}{% if coach.street_address %}, {% endif %}
                        {{ coach.city }}{% if coach.city %}, {% endif %}
                        {{ coach.state }}{% if coach.state %}, {% endif %}
                        {{ coach.zip_code }}
                    </div>
                {% endif %}
            </div>

            {% if coach.specialization %}
                <h4 class="section-title">Specialization</h4>
                <ul class="section-block text-start d-inline-block mt-2">
                    {% for line in coach.specialization.splitlines %}
                        {% if line|slice:":1" == '*' %}
                            <li>{{ line|slice:"1:" }}</li>
                        {% elif line %}
                            <li>{{ line }}</li>
                        {% endif %}
                    {% endfor %}
                </ul>
            {% endif %}

            <h4 class="section-title">Biography</h4>
            <div class="section-block">
                <p class="text-justify mb-0">{{ coach.bio|default:"No biography provided." }}</p>
            </div>

            {% if coach.goals %}
                <div class="goals-list text-center mb-4">
                    <strong>Goals:</strong>
                    <ul class="list-inline mb-0">
                        {% for goal in coach.get_goals_list %}
                            <li class="list-inline-item"><span class="badge bg-info">{{ goal }}</span></li>
                        {% endfor %}
                    </ul>
                </div>
            {% endif %}
        {% else %}
            <p class="text-center text-muted">No coach profile found.</p>
        {% endif %}
    </div>
</div>
{% endblock %}

{% block extra_css %}
{{ block.super }}
<style>
.section-title {
    margin-top: 2.5rem;
    margin-bottom: 1rem;
    color: #6cc24a;
    font-weight: bold;
}
.section-block {
    margin-bottom: 2rem;
}
</style>
{% endblock %}
